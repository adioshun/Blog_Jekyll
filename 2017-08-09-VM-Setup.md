# VMware Setup

## 1. time 및 zone 변경
```bash
date 
sudo rm /etc/localtime
sudo ln -s /usr/share/zoneinfo/US/East-Indiana /etc/localtime 
```
## 2. Automatic shutdown 
```bahs
sudo vi /etc/crontab 
30 17   * * *   root    echo "I'm about to restart" |wall
00 18   * * *   root    shutdown -h now 
/etc/init.d/cron restart
```
## 3.SSH접속

- sudo apt-get update;sudo apt-get install net-tools openssh-server vim
- vi /etc/ssh/sshd_config변경: 
    - port number 22 -> 2222
    - PermitRootLogin yes 
    - PasswordAuthentication yes
- service ssh start
- port check : `netstat -anp | grep "LISTEN "`

접속법:`ssh -p 2222 root@localhost`


> 출처: http://chanhy63.tistory.com/11 [Notepad]

## 4. Mount(gcsfuse)

installation
```bash

export GCSFUSE_REPO=gcsfuse-`lsb_release -c -s`
echo "deb http://packages.cloud.google.com/apt $GCSFUSE_REPO main" | sudo tee /etc/apt/sources.list.d/gcsfuse.list
curl https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -
sudo apt-get update
sudo apt-get install gcsfuse
sudo usermod -a -G fuse $USER
```

> 중요 : Permission문제가 발생 할수 있으므로 sudo로 실행 하지 않기 

mount 
``` bash 
#curl https://sdk.cloud.google.com | bash  #gcloud: command not found

gcloud auth login

gcsfuse peta-fastness-4371 /home/hjlim99/mount/
#gcsfuse --foreground --debug_gcs --debug_http --debug_fuse --debug_invariants peta-fastness-4371 /home/hjlim99/mount/
``

Unmount
```bash
fusermount -u /home/hjlim99/mount
```

File transfer with status bar : `rsync --info=progress2 source dest`

> [ref](https://github.com/GoogleCloudPlatform/gcsfuse/blob/master/docs/mounting.md#basic-usage)
> [Automation](https://github.com/GoogleCloudPlatform/gcsfuse/blob/master/docs/mounting.md#mount8-and-fstab-compatibility)

## 5. Mount(sshfs)

!echo ellene | sshfs -o nonempty adioshun@128.46.80.28:/home/adioshun/docker_share /home/hjlim99/share -o workaround=rename -o password_stdin
